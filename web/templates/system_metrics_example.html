<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Metrics Example</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            padding: 20px;
        }
        .gauge-container {
            position: relative;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mb-4"><i class="fas fa-microchip"></i> System Metrics Example</h1>
        
        <!-- System/OS Metrics -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-microchip"></i> System Metrics</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- CPU Usage -->
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <h6 class="text-muted mb-3">CPU Usage</h6>
                                    <div class="position-relative d-inline-block">
                                        <canvas id="cpuGauge" width="120" height="120"></canvas>
                                        <div class="position-absolute top-50 start-50 translate-middle">
                                            <h3 class="mb-0" id="cpuValue">45.2%</h3>
                                        </div>
                                    </div>
                                    <div class="mt-2">
                                        <small class="text-muted">Cores: <span id="cpuCores">8</span></small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Memory Usage -->
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <h6 class="text-muted mb-3">Memory Usage</h6>
                                    <div class="position-relative d-inline-block">
                                        <canvas id="memoryGauge" width="120" height="120"></canvas>
                                        <div class="position-absolute top-50 start-50 translate-middle">
                                            <h3 class="mb-0" id="memoryValue">68.5%</h3>
                                        </div>
                                    </div>
                                    <div class="mt-2">
                                        <small class="text-muted">Used: <span id="memoryUsed">10.9 GB</span> / <span id="memoryTotal">16.0 GB</span></small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Disk Usage -->
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <h6 class="text-muted mb-3">Disk Usage</h6>
                                    <div class="position-relative d-inline-block">
                                        <canvas id="diskGauge" width="120" height="120"></canvas>
                                        <div class="position-absolute top-50 start-50 translate-middle">
                                            <h3 class="mb-0" id="diskValue">42.1%</h3>
                                        </div>
                                    </div>
                                    <div class="mt-2">
                                        <small class="text-muted">Free: <span id="diskFree">285.4 GB</span> / <span id="diskTotal">493.8 GB</span></small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- System Info -->
                            <div class="col-md-3 mb-3">
                                <h6 class="text-muted mb-3">System Info</h6>
                                <table class="table table-sm table-borderless">
                                    <tr>
                                        <td class="text-muted">OS:</td>
                                        <td><strong id="osInfo">Linux 5.15.0</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="text-muted">Python:</td>
                                        <td><strong id="pythonVersion">3.10.12</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="text-muted">Architecture:</td>
                                        <td><strong id="architecture">x86_64</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="text-muted">Hostname:</td>
                                        <td><strong id="hostname">prod-server-01</strong></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> <strong>Color Coding:</strong>
            <ul class="mb-0 mt-2">
                <li><span class="badge bg-success">Green</span> - Healthy (&lt; 60%)</li>
                <li><span class="badge bg-warning text-dark">Yellow</span> - Warning (60-80%)</li>
                <li><span class="badge bg-danger">Red</span> - Critical (&gt; 80%)</li>
            </ul>
        </div>
    </div>

    <script>
        function createGauge(canvasId, percentage) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return null;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 45;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Determine color based on percentage
            let color;
            if (percentage < 60) {
                color = '#28a745'; // green
            } else if (percentage < 80) {
                color = '#ffc107'; // yellow
            } else {
                color = '#dc3545'; // red
            }
            
            // Draw background circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.strokeStyle = '#e9ecef';
            ctx.lineWidth = 10;
            ctx.stroke();
            
            // Draw percentage arc
            const startAngle = -Math.PI / 2;
            const endAngle = startAngle + (2 * Math.PI * percentage / 100);
            
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.strokeStyle = color;
            ctx.lineWidth = 10;
            ctx.lineCap = 'round';
            ctx.stroke();
            
            return ctx;
        }

        // Draw sample gauges
        createGauge('cpuGauge', 45.2);
        createGauge('memoryGauge', 68.5);
        createGauge('diskGauge', 42.1);
    </script>
</body>
</html>
